Заголовок: Проблеми із продуктивністью
URL: https://ccs.nau.edu.ua/novini/svit-sp/problemi-iz-produktivnistyu
==================================================
Проблеми з продуктивністю
Джошуа Редстоун одного разу поскаржився на низьку продуктивність в репозиторії на Facebook. Був створений синтетичний репозиторій і провели тести.
Разом:
4000000 комітів з лінійною історією і 1,3 млн файлів. Розмір папки git – 15 гб .
Упаковка зайняла 2 дні за наявності хорошої машини. Розмір індексного файлу – 191 мб.
Цілком очевидно , що така швидкість мало кого порадує. Нижче результати на сервері зі звичайним HDD і > 10 ГБ RAM , при роботі з гарячою і холодною кешем .
git status
39 хвилин з «холодним» кешем , 24 секунди з « гарячим » кешем ;
git blame
44 хвилини і 11 хвилин ;
git add (додавання пари символів в кінці файлу і додавання його )
7 секунд і 5 секунд ;
git commit – m ” foo bar3 ” – no – verify – untracked – files = no – quiet – no – status
41 хвилина і 20 секунд.
Результати Facebook не влаштовують. Для вирішення даної проблеми , швидше за все , буде потрібно виділити спеціальні сервера під Git щоб прискорити окремі операції . Знадобитися або переписати код , або створити надбудову зі скриптами .
Розробники натякають , що було б не погано переписати Git . Втім сам Facebook ділити репозиторій на дрібні частини відмовляється.